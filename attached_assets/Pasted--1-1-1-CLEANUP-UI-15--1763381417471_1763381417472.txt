üöÄ –°–ü–†–ò–ù–¢ 1: –ü–û–î–ì–û–¢–û–í–ö–ê
–ó–ê–î–ê–ß–ê 1.1: CLEANUP UI (15 –º–∏–Ω—É—Ç)
–¶–ï–õ–¨: –£–±—Ä–∞—Ç—å –ª–∏—à–Ω—é—é –≤–∫–ª–∞–¥–∫—É, –æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–Ω—É AI Analysis

–ß–¢–û –î–ï–õ–ê–¢–¨:
1. –û—Ç–∫—Ä—ã—Ç—å client/src/components/layout/app-sidebar.tsx
2. –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫–∏ 80-88 (AI Training, AI Analysis)
3. –£–î–ê–õ–ò–¢–¨ –±–ª–æ–∫ —Å AI Training
4. –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ AI Analysis

–ö–û–î (–£–î–ê–õ–ò–¢–¨):
{
  title: "AI Training",
  icon: Brain,
  url: "/ai-training/history"
}

–ü–†–û–í–ï–†–ö–ê:
‚îî‚îÄ –í sidebar —Ç–æ–ª—å–∫–æ "AI Analysis" ‚úÖ
‚îî‚îÄ –ö–ª–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí /ai-analysis ‚úÖ

–§–ê–ô–õ–´:
‚îî‚îÄ app-sidebar.tsx (1 —Ñ–∞–π–ª, -5 —Å—Ç—Ä–æ–∫)

–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:
‚úÖ –ù–µ —Ç—Ä–æ–≥–∞–µ–º –ª–æ–≥–∏–∫—É, —Ç–æ–ª—å–∫–æ UI
‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ /ai-training –æ—Å—Ç–∞—ë—Ç—Å—è (–º–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ)

–ó–ê–î–ê–ß–ê 1.2: –ë–ê–ó–ê –î–ê–ù–ù–´–• (30 –º–∏–Ω—É—Ç)
–¶–ï–õ–¨: –°–æ–∑–¥–∞—Ç—å 2 –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã

–ß–¢–û –î–ï–õ–ê–¢–¨:
1. –û—Ç–∫—Ä—ã—Ç—å shared/schema.ts
2. –í –ö–û–ù–¶–ï —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤–∏—Ç—å:

// ========== RECEIPT ITEMS ==========
export const receiptItems = pgTable("receipt_items", {
  id: serial("id").primaryKey(),
  transactionId: integer("transaction_id")
    .references(() => dailyTransactions.id, { onDelete: "cascade" })
    .notNull(),
  
  // –¢–æ–≤–∞—Ä
  itemName: text("item_name").notNull(),
  normalizedName: text("normalized_name"), // "orange juice"
  quantity: decimal("quantity", { precision: 10, scale: 2 }),
  unit: text("unit"), // 'pcs', 'kg', 'L'
  
  // –¶–µ–Ω–∞
  pricePerUnit: decimal("price_per_unit", { precision: 10, scale: 2 }).notNull(),
  totalPrice: decimal("total_price", { precision: 10, scale: 2 }).notNull(),
  currency: text("currency").default("IDR"),
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  merchantName: text("merchant_name"),
  category: text("category"),
  
  createdAt: timestamp("created_at").defaultNow().notNull(),
});

export const insertReceiptItemSchema = createInsertSchema(receiptItems);
export const selectReceiptItemSchema = createSelectSchema(receiptItems);

export type InsertReceiptItem = z.infer<typeof insertReceiptItemSchema>;
export type ReceiptItem = z.infer<typeof selectReceiptItemSchema>;

// ========== AI CHAT MESSAGES ==========
export const aiChatMessages = pgTable("ai_chat_messages", {
  id: serial("id").primaryKey(),
  userId: integer("user_id")
    .references(() => users.id, { onDelete: "cascade" })
    .notNull(),
  
  role: text("role").notNull(), // 'user' | 'assistant'
  content: text("content").notNull(),
  
  // –ö–æ–Ω—Ç–µ–∫—Å—Ç
  contextType: text("context_type"),
  contextData: text("context_data"), // JSON string
  
  createdAt: timestamp("created_at").defaultNow().notNull(),
});

export const insertAiChatMessageSchema = createInsertSchema(aiChatMessages);
export const selectAiChatMessageSchema = createSelectSchema(aiChatMessages);

export type InsertAiChatMessage = z.infer<typeof insertAiChatMessageSchema>;
export type AiChatMessage = z.infer<typeof selectAiChatMessageSchema>;

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

–§–ê–ô–õ–´:
‚îî‚îÄ shared/schema.ts (+60 —Å—Ç—Ä–æ–∫ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞)

–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:
‚úÖ –î–æ–±–∞–≤–ª—è–µ–º –≤ –ö–û–ù–ï–¶, –Ω–µ —Ç—Ä–æ–≥–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (pgTable, serial, etc)