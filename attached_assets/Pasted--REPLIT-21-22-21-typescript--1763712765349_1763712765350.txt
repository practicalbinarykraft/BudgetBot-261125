üìã –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –®–ê–ì–ò –î–õ–Ø REPLIT (–®–ê–ì–ò 21-22)–®–ê–ì 21: –î–û–ë–ê–í–ò–¢–¨ –õ–ò–ù–ò–Æ –ê–ö–¢–ò–í–û–í –ù–ê –ì–†–ê–§–ò–ötypescript‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ó–ê–î–ê–ß–ê: –î–æ–±–∞–≤–∏—Ç—å –æ—Ä–∞–Ω–∂–µ–≤—É—é –ª–∏–Ω–∏—é "–ê–∫—Ç–∏–≤—ã –∏ –ø–∞—Å—Å–∏–≤—ã" –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ Dashboard
–§–ê–ô–õ: client/src/components/trend-chart.tsx (–∏–ª–∏ –≥–¥–µ –≥—Ä–∞—Ñ–∏–∫)
–ò–ó–ú–ï–ù–ï–ù–ò–ô: ~40 —Å—Ç—Ä–æ–∫
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–ù–ê–ô–î–ò –§–ê–ô–õ –° –ì–†–ê–§–ò–ö–û–ú –§–ò–ù–ê–ù–°–û–í–´–• –¢–†–ï–ù–î–û–í:
–û–±—ã—á–Ω–æ —ç—Ç–æ:
- client/src/components/trend-chart.tsx
- client/src/components/capital-growth-chart.tsx
- client/src/components/dashboard/financial-chart.tsx

–ù–ê–ô–î–ò –ö–û–ú–ü–û–ù–ï–ù–¢ –ö–û–¢–û–†–´–ô –†–ò–°–£–ï–¢ –ì–†–ê–§–ò–ö (LineChart/AreaChart)

–î–û–ë–ê–í–¨ STATE –î–õ–Ø –í–ò–î–ò–ú–û–°–¢–ò –õ–ò–ù–ò–ò:
import { useState } from 'react';

const [showAssetsLine, setShowAssetsLine] = useState(true);

–û–ë–ù–û–í–ò –î–ê–ù–ù–´–ï –î–õ–Ø –ì–†–ê–§–ò–ö–ê:

–ë–´–õ–û (–ø—Ä–∏–º–µ—Ä–Ω–æ):
const chartData = [
  { date: '2024-01', wallets: 10000 },
  { date: '2024-02', wallets: 12000 },
  { date: '2024-03', wallets: 15000 },
];

–î–û–õ–ñ–ù–û –°–¢–ê–¢–¨:
const chartData = await Promise.all(
  dates.map(async (date) => {
    // –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–æ–≤ –Ω–∞ —ç—Ç—É –¥–∞—Ç—É
    const walletsBalance = await getWalletsBalanceAtDate(date);
    
    // –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ –Ω–∞ —ç—Ç—É –¥–∞—Ç—É
    const assetsValue = await getAssetsValueAtDate(date);
    
    // –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–∞—Å—Å–∏–≤–æ–≤ –Ω–∞ —ç—Ç—É –¥–∞—Ç—É
    const liabilitiesValue = await getLiabilitiesValueAtDate(date);
    
    // –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ–±—â–∏–π –∫–∞–ø–∏—Ç–∞–ª
    const totalCapital = walletsBalance + assetsValue - liabilitiesValue;
    
    return {
      date,
      wallets: walletsBalance,
      assetsAndLiabilities: assetsValue - liabilitiesValue, // –ß–∏—Å—Ç–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤
      totalCapital // –û–±—â–∏–π –∫–∞–ø–∏—Ç–∞–ª (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
    };
  })
);

–î–û–ë–ê–í–¨ –ß–ï–ö–ë–û–ö–° –î–õ–Ø –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø:
<div className="flex items-center gap-4 mb-4">
  {/* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —á–µ–∫–±–æ–∫—Å—ã */}
  <label className="flex items-center gap-2 cursor-pointer">
    <input
      type="checkbox"
      checked={showWalletsLine}
      onChange={(e) => setShowWalletsLine(e.target.checked)}
      className="w-4 h-4"
    />
    <span className="flex items-center gap-1">
      <span className="w-3 h-3 bg-blue-500 rounded-full"></span>
      <span className="text-sm">–ö–æ—à–µ–ª—å–∫–∏</span>
    </span>
  </label>
  
  {/* –ù–û–í–´–ô –ß–ï–ö–ë–û–ö–° */}
  <label className="flex items-center gap-2 cursor-pointer">
    <input
      type="checkbox"
      checked={showAssetsLine}
      onChange={(e) => setShowAssetsLine(e.target.checked)}
      className="w-4 h-4"
    />
    <span className="flex items-center gap-1">
      <span className="w-3 h-3 bg-orange-500 rounded-full"></span>
      <span className="text-sm">–ê–∫—Ç–∏–≤—ã –∏ –ø–∞—Å—Å–∏–≤—ã</span>
    </span>
  </label>
</div>

–î–û–ë–ê–í–¨ –õ–ò–ù–ò–Æ –ù–ê –ì–†–ê–§–ò–ö:
<ResponsiveContainer width="100%" height={300}>
  <LineChart data={chartData}>
    <CartesianGrid strokeDasharray="3 3" />
    <XAxis dataKey="date" />
    <YAxis />
    <Tooltip 
      formatter={(value: number) => `$${value.toLocaleString()}`}
    />
    <Legend />
    
    {/* –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–∏–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤ */}
    {showWalletsLine && (
      <Line 
        type="monotone" 
        dataKey="wallets" 
        stroke="#3b82f6" 
        strokeWidth={2}
        name="–ö–æ—à–µ–ª—å–∫–∏"
      />
    )}
    
    {/* –ù–û–í–ê–Ø –õ–ò–ù–ò–Ø –ê–ö–¢–ò–í–û–í */}
    {showAssetsLine && (
      <Line 
        type="monotone" 
        dataKey="assetsAndLiabilities" 
        stroke="#f97316" 
        strokeWidth={2}
        name="–ê–∫—Ç–∏–≤—ã –∏ –ø–∞—Å—Å–∏–≤—ã"
        strokeDasharray="5 5"
      />
    )}
  </LineChart>
</ResponsiveContainer>

–ü–†–û–í–ï–†–ö–ê:
‚úÖ –ß–µ–∫–±–æ–∫—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
‚úÖ –û—Ä–∞–Ω–∂–µ–≤–∞—è –ª–∏–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
‚úÖ –õ–∏–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç (–∞–∫—Ç–∏–≤—ã - –ø–∞—Å—Å–∏–≤—ã)
‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç/–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏–Ω–∏—é