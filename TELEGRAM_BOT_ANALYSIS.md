# üì± –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó TELEGRAM –ë–û–¢–ê BUDGETBOT

## üìä –û–ì–õ–ê–í–õ–ï–ù–ò–ï
1. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
2. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
3. [–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞](#—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ)
4. [API –∫–ª—é—á–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å](#api-–∫–ª—é—á–∏)
5. [–ü—Ä–æ–±–ª–µ–º—ã –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏](#–ø—Ä–æ–±–ª–µ–º—ã)
6. [–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é](#—É–ª—É—á—à–µ–Ω–∏—è)

---

## üéØ –§–£–ù–ö–¶–ò–û–ù–ê–õ

### ‚úÖ –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

#### 1. **–ü–∞—Ä—Å–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–∞** üìù
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Å—É–º–º—É, –≤–∞–ª—é—Ç—É, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–∑ —Ç–µ–∫—Å—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 10+ –≤–∞–ª—é—Ç: USD, RUB, IDR, EUR, THB, GBP, JPY, KRW
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø (—Ä–∞—Å—Ö–æ–¥/–¥–æ—Ö–æ–¥) –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ç—ã—Å—è—á–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏: `200.000`, `1,500,000`, `150k`

**–ü—Ä–∏–º–µ—Ä—ã:**
```
‚úÖ "150 —Ä—É–± –∫–æ—Ñ–µ" ‚Üí 150 RUB, –∫–∞—Ç–µ–≥–æ—Ä–∏—è "Food & Drinks"
‚úÖ "200000 IDR taxi" ‚Üí 200000 IDR, –∫–∞—Ç–µ–≥–æ—Ä–∏—è "Transport"
‚úÖ "50$ groceries" ‚Üí 50 USD, –∫–∞—Ç–µ–≥–æ—Ä–∏—è "Food & Drinks"
‚úÖ "1.5k salary" ‚Üí 1500 USD, —Ç–∏–ø "income"
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:**
- –ü—Ä–æ—Å—Ç–æ–π regex-–ø–∞—Ä—Å–µ—Ä –±–µ–∑ AI (—Ñ–∞–π–ª: `server/telegram/parser.ts`)
- –ë—ã—Å—Ç—Ä–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω
- 60+ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ñ—Ä–∞–∑—ã: ‚ùå "–∫—É–ø–∏–ª –ø–∏—Ü—Ü—É –∑–∞ –ø–æ–ª—Ç–æ—Ä–∞ —Ä—É–±–ª—è"
- –¢—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–∏–π —Ñ–æ—Ä–º–∞—Ç: —Å—É–º–º–∞ + –≤–∞–ª—é—Ç–∞ + –æ–ø–∏—Å–∞–Ω–∏–µ
- –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

#### 2. **OCR —á–µ–∫–æ–≤ (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–æ —Ñ–æ—Ç–æ)** üì∏
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ —á–µ–∫–∞
2. –ë–æ—Ç —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ Telegram API
3. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ base64
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ **Anthropic Claude Vision API**
5. –ò–∑–≤–ª–µ–∫–∞–µ—Ç: —Å—É–º–º—É, –≤–∞–ª—é—Ç—É, —Ç–æ–≤–∞—Ä—ã, –º–∞–≥–∞–∑–∏–Ω, –¥–∞—Ç—É

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è:**
```
–ß–µ–∫ –∏–∑ Starbucks:
- –ú–∞–≥–∞–∑–∏–Ω: Starbucks
- –ò—Ç–æ–≥–æ: 250000 IDR
- –¢–æ–≤–∞—Ä—ã:
  * Cappuccino - 45000 IDR
  * Croissant - 35000 IDR
  * Latte - 50000 IDR
- –î–∞—Ç–∞: 2025-01-02
```

**API:** Anthropic Claude 3.5 Sonnet (Vision)
**–ö–ª—é—á:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (BYOK - Bring Your Own Key)
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.015 –∑–∞ —á–µ–∫ (—Å–º. —Ä–∞–∑–¥–µ–ª —Å—Ç–æ–∏–º–æ—Å—Ç–∏)

**–§–∞–π–ª—ã:**
- `server/telegram/commands/photo.handler.ts`
- `server/telegram/ocr.ts`
- `server/services/ocr/receipt-parser.service.ts`

---

#### 3. **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ (Voice-to-Text)** üé§
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –ë–æ—Ç —Å–∫–∞—á–∏–≤–∞–µ—Ç .ogg —Ñ–∞–π–ª —Å Telegram —Å–µ—Ä–≤–µ—Ä–æ–≤
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ **OpenAI Whisper API**
4. –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
5. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —á–µ—Ä–µ–∑ **Anthropic Claude** (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–ª—é—á)
6. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä:**
```
–ì–æ–ª–æ—Å: "–ö—É–ø–∏–ª –∫–æ—Ñ–µ –∑–∞ —Å—Ç–æ –ø—è—Ç—å–¥–µ—Å—è—Ç —Ä—É–±–ª–µ–π"
‚Üì Whisper API
–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: "–∫—É–ø–∏–ª –∫–æ—Ñ–µ –∑–∞ —Å—Ç–æ –ø—è—Ç—å–¥–µ—Å—è—Ç —Ä—É–±–ª–µ–π"
‚Üì AI –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞: "150 RUB –∫–æ—Ñ–µ"
‚Üì –ü–∞—Ä—Å–µ—Ä
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: 150 RUB, –∫–∞—Ç–µ–≥–æ—Ä–∏—è "Food & Drinks"
```

**API:**
- **Whisper**: OpenAI Whisper-1 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª—é—á)
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**: Anthropic Claude (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª—é—á)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.006 –∑–∞ –º–∏–Ω—É—Ç—É –∞—É–¥–∏–æ

**–§–∞–π–ª—ã:**
- `server/telegram/voice-handler.ts`
- `server/services/whisper-transcription.service.ts`
- `server/services/voice-transaction-normalizer.service.ts`

---

#### 4. **AI —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å–æ–≤–µ—Ç–Ω–∏–∫** ü§ñ
**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üí¨ AI —á–∞—Ç" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
2. –ë–æ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - –ë–∞–ª–∞–Ω—Å—ã –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
   - –ê–∫—Ç–∏–≤–Ω—ã–µ –±—é–¥–∂–µ—Ç—ã
   - –¶–µ–ª–∏ (wishlist)
   - –ò—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π)
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–æ–ø—Ä–æ—Å + –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ **Anthropic Claude API**
4. –ü–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤:**
```
‚úÖ "–ú–æ–≥—É –ª–∏ —è –∫—É–ø–∏—Ç—å iPhone –∑–∞ $1000?"
‚úÖ "–°–∫–æ–ª—å–∫–æ —è —Ç—Ä–∞—á—É –Ω–∞ –∫–æ—Ñ–µ –≤ –º–µ—Å—è—Ü?"
‚úÖ "–ì–¥–µ –º–Ω–µ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã?"
‚úÖ "–ö–æ–≥–¥–∞ —è —Å–º–æ–≥—É –Ω–∞–∫–æ–ø–∏—Ç—å –Ω–∞ –º–∞—à–∏–Ω—É?"
‚úÖ "–°—Ä–∞–≤–Ω–∏ —Ü–µ–Ω—ã –Ω–∞ –º–æ–ª–æ–∫–æ –≤ —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö" (—á–µ—Ä–µ–∑ Product Catalog)
```

**API:** Anthropic Claude 3.5 Sonnet
**–ö–ª—é—á:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (BYOK)
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.01-0.05 –∑–∞ –≤–æ–ø—Ä–æ—Å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

**–§—É–Ω–∫—Ü–∏–∏ AI (tools):**
- `get_balance()` - –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–æ–≤
- `get_recent_transactions()` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `search_products()` - –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ü–µ–Ω

**–§–∞–π–ª—ã:**
- `server/telegram/menu/ai-chat-handler.ts`
- `server/services/ai/chat.service.ts`
- `server/services/ai/financial-context.service.ts`
- `server/ai/tools.ts`

---

#### 5. **–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞** ‚å®Ô∏è
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—ã–±–æ—Ä —è–∑—ã–∫–∞ (EN/RU) |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| `/status` | –ö—Ä–∞—Ç–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–±–∞–ª–∞–Ω—Å, —Ä–∞—Å—Ö–æ–¥—ã) |
| `/balance` | –î–µ—Ç–∞–ª—å–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã –≤—Å–µ—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ |
| `/last` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π |
| `/language` | –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ |

**–§–∞–π–ª—ã:** `server/telegram/handlers/command-registry.ts`

---

#### 6. **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–∫–Ω–æ–ø–∫–∏)** üéõÔ∏è
- üí¨ **AI —á–∞—Ç** - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å–æ–≤–µ—Ç–Ω–∏–∫
- üí∞ **–ö–æ—à–µ–ª—å–∫–∏** - –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–æ–≤
- üìä **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –Ø–∑—ã–∫, –≤–∞–ª—é—Ç–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–§–∞–π–ª—ã:** `server/telegram/menu/keyboards.ts`

---

## üîß –¢–ï–•–ù–û–õ–û–ì–ò–ò –ò –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Node.js** + TypeScript
- **node-telegram-bot-api** - —Ä–∞–±–æ—Ç–∞ —Å Telegram Bot API
- **Drizzle ORM** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- **Anthropic SDK** - Claude API
- **OpenAI SDK** - Whisper API

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—á–∏—Å—Ç–∞—è –∏ –º–æ–¥—É–ª—å–Ω–∞—è)

```
server/telegram/
‚îú‚îÄ‚îÄ bot.ts                      # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ command-registry.ts     # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îî‚îÄ‚îÄ callbacks/              # –û–±—Ä–∞–±–æ—Ç–∫–∞ inline-–∫–Ω–æ–ø–æ–∫
‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îú‚îÄ‚îÄ text-message/           # –ü–∞—Ä—Å–∏–Ω–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ photo.handler.ts        # OCR —á–µ–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ [–∫–æ–º–∞–Ω–¥—ã].ts
‚îú‚îÄ‚îÄ voice-handler.ts            # Whisper API
‚îú‚îÄ‚îÄ menu/
‚îÇ   ‚îú‚îÄ‚îÄ ai-chat-handler.ts      # AI —á–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ wallets-handler.ts
‚îÇ   ‚îî‚îÄ‚îÄ keyboards.ts            # –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é
‚îú‚îÄ‚îÄ parser.ts                   # Regex –ø–∞—Ä—Å–µ—Ä
‚îî‚îÄ‚îÄ ocr.ts                      # Vision API
```

**–ü–ª—é—Å—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
‚úÖ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å - –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É
‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å - –º–æ–∂–Ω–æ –ø–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏
‚úÖ Junior-friendly - —á–∏—Å—Ç—ã–π –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

---

## üß† –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–ï –¢–ï–ö–°–¢–ê

### 1. –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–µ—Ä (regex) - **–ë–ï–°–ü–õ–ê–¢–ù–û**

**–§–∞–π–ª:** `server/telegram/parser.ts`

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
```typescript
// 1. –ù–∞–π—Ç–∏ —Å—É–º–º—É (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—ã—Å—è—á–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π)
Regex: /(\d+(?:[.,]\d{3})*(?:[.,]\d{1,2})?[k–∫]?)/

// 2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞–ª—é—Ç—É (—Å–∏–º–≤–æ–ª –∏–ª–∏ –∫–æ–¥)
–°–∏–º–≤–æ–ª—ã: $, ‚ÇΩ, Rp, ‚Ç¨, ‡∏ø, ¬£, ¬•, ‚Ç©
–ö–æ–¥—ã: USD, RUB, IDR, EUR, THB, GBP, JPY, KRW

// 3. –ò–∑–≤–ª–µ—á—å –æ–ø–∏—Å–∞–Ω–∏–µ (–æ—Å—Ç–∞—Ç–æ–∫ —Ç–µ–∫—Å—Ç–∞)
description = text.replace(amount + currency).trim()

// 4. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é (60+ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤)
CATEGORY_KEYWORDS = {
  "Food & Drinks": ["–∫–æ—Ñ–µ", "coffee", "—Ä–µ—Å—Ç–æ—Ä–∞–Ω", "food"],
  "Transport": ["—Ç–∞–∫—Å–∏", "taxi", "uber", "–º–µ—Ç—Ä–æ"],
  "Shopping": ["–º–∞–≥–∞–∑–∏–Ω", "shop", "–æ–¥–µ–∂–¥–∞"],
  ...
}

// 5. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø (expense/income)
INCOME_KEYWORDS = ["–∑–∞—Ä–ø–ª–∞—Ç–∞", "salary", "–¥–æ—Ö–æ–¥", "+"]
```

**–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã:**

| –í—Ö–æ–¥ | –°—É–º–º–∞ | –í–∞–ª—é—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–∏–ø |
|------|-------|--------|----------|-----------|-----|
| `150 —Ä—É–± –∫–æ—Ñ–µ` | 150 | RUB | –ö–æ—Ñ–µ | Food & Drinks | expense |
| `200.000 IDR taxi` | 200000 | IDR | Taxi | Transport | expense |
| `1.5k salary` | 1500 | USD | Salary | Salary | income |
| `50$ groceries at walmart` | 50 | USD | Groceries at walmart | Food & Drinks | expense |

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
‚ùå –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç: "–∫—É–ø–∏–ª –ø–∏—Ü—Ü—É –∑–∞ –ø–æ–ª—Ç–æ—Ä–∞ —Ä—É–±–ª—è"
‚ùå –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç: "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å–µ–≥–æ–¥–Ω—è —Å—Ç–æ –¥–æ–ª–ª–∞—Ä–æ–≤"
‚ùå –¢—Ä–µ–±—É–µ—Ç —á–∏—Å–ª–æ–≤—É—é —Å—É–º–º—É –≤ –Ω–∞—á–∞–ª–µ

---

### 2. AI –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ–ª–æ—Å–∞ - **–ü–õ–ê–¢–ù–û (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

**–§–∞–π–ª:** `server/services/voice-transaction-normalizer.service.ts`

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –¢–æ–ª—å–∫–æ –¥–ª—è **–≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π**
- –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å **Anthropic API –∫–ª—é—á**
- –£–ª—É—á—à–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—Ä–∞–∑

**–ü—Ä–∏–º–µ—Ä:**
```
–ì–æ–ª–æ—Å: "–ö—É–ø–∏–ª –ø–∏—Ü—Ü—É –∑–∞ –ø–æ–ª—Ç–æ—Ä—ã —Ç—ã—Å—è—á–∏ —Ä—É–±–ª–µ–π"
‚Üì Whisper
–¢–µ–∫—Å—Ç: "–∫—É–ø–∏–ª –ø–∏—Ü—Ü—É –∑–∞ –ø–æ–ª—Ç–æ—Ä—ã —Ç—ã—Å—è—á–∏ —Ä—É–±–ª–µ–π"
‚Üì Claude AI Normalization
–°—Ç—Ä—É–∫—Ç—É—Ä–∞: {
  amount: 1500,
  currency: "RUB",
  description: "–ü–∏—Ü—Ü–∞",
  confidence: "high"
}
‚Üì –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
"1500 RUB –ü–∏—Ü—Ü–∞"
‚Üì –û–±—ã—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
```

**API Prompt:**
```
–ù–æ—Ä–º–∞–ª–∏–∑—É–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
- amount (—á–∏—Å–ª–æ)
- currency (ISO –∫–æ–¥)
- description (–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ)

–¢–µ–∫—Å—Ç: "–∫—É–ø–∏–ª –ø–∏—Ü—Ü—É –∑–∞ –ø–æ–ª—Ç–æ—Ä—ã —Ç—ã—Å—è—á–∏ —Ä—É–±–ª–µ–π"

–û—Ç–≤–µ—Ç—å JSON:
{
  "amount": 1500,
  "currency": "RUB",
  "description": "–ü–∏—Ü—Ü–∞"
}
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.002 –∑–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é

---

## üí∞ API –ö–õ–Æ–ß–ò –ò –°–¢–û–ò–ú–û–°–¢–¨

### üîë –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API

| API | –î–ª—è —á–µ–≥–æ | –ß–µ–π –∫–ª—é—á | –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç |
|-----|----------|----------|------------------|
| **Telegram Bot API** | –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π | –°–∏—Å—Ç–µ–º–Ω—ã–π | ‚àû –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| **OpenAI Whisper** | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ | **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | $5 free credit (–Ω–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã) |
| **Anthropic Claude Vision** | OCR —á–µ–∫–æ–≤ | **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | $5 free credit (–Ω–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã) |
| **Anthropic Claude Text** | AI —á–∞—Ç, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è | **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | $5 free credit |

### üìä –ú–æ–¥–µ–ª—å BYOK (Bring Your Own Key)

**–ß–¢–û –≠–¢–û:**
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç **—Å–≤–æ–∏** API –∫–ª—é—á–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ë–æ—Ç –Ω–µ —Ç—Ä–∞—Ç–∏—Ç –¥–µ–Ω—å–≥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–ª–∞—Ç–∏—Ç **—Ç–æ–ª—å–∫–æ –∑–∞ —Å–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

**–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–ª—é—á–∏:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ç–∞–±–ª–∏—Ü–∞ `settings`
- –ü–æ–ª—è: `openai_api_key_encrypted`, `anthropic_api_key_encrypted`
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** AES-256-GCM (–∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≤ `.env`)

> **‚ö†Ô∏è –í–ê–ñ–ù–û (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 2025-01-02):**
> –î–æ –Ω–µ–¥–∞–≤–Ω–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è API –∫–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –ë–ï–ó –®–ò–§–†–û–í–ê–ù–ò–Ø —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
> **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `server/routes/settings.routes.ts`** - —Ç–µ–ø–µ—Ä—å –≤—Å–µ –∫–ª—é—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–∏—Ñ—Ä—É—é—Ç—Å—è.
> –°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ `SECURITY_FIX_API_KEYS.md`

**–§–∞–π–ª:** `server/repositories/settings.repository.ts`

```typescript
// –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∫–ª—é—á–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
const apiKey = await settingsRepository.getOpenAiApiKey(userId);
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

### üíµ –î–ï–¢–ê–õ–¨–ù–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨

#### 1. **–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (Whisper)**
- **–ú–æ–¥–µ–ª—å:** Whisper-1
- **–¶–µ–Ω–∞:** $0.006 –∑–∞ –º–∏–Ω—É—Ç—É –∞—É–¥–∏–æ
- **–ü—Ä–∏–º–µ—Ä—ã:**
  - 10 —Å–µ–∫—É–Ω–¥ (—Ç–∏–ø–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ): **$0.001**
  - 30 —Å–µ–∫—É–Ω–¥: **$0.003**
  - 1 –º–∏–Ω—É—Ç–∞: **$0.006**

**–†–∞—Å—á–µ—Ç –Ω–∞ –º–µ—Å—è—Ü:**
```
30 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å √ó 15 —Å–µ–∫—É–Ω–¥ = 450 —Å–µ–∫/–¥–µ–Ω—å
450 √ó 30 = 13500 —Å–µ–∫/–º–µ—Å—è—Ü = 225 –º–∏–Ω—É—Ç
225 √ó $0.006 = $1.35/–º–µ—Å—è—Ü
```

---

#### 2. **OCR —á–µ–∫–∞ (Claude Vision)**
- **–ú–æ–¥–µ–ª—å:** Claude 3.5 Sonnet
- **–¶–µ–Ω–∞:** $3 –∑–∞ 1M input tokens / $15 –∑–∞ 1M output tokens
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** ~1500 tokens
- **–û—Ç–≤–µ—Ç:** ~200 tokens

**–°—Ç–æ–∏–º–æ—Å—Ç—å 1 —á–µ–∫–∞:**
```
Input: 1500 tokens √ó $3 / 1,000,000 = $0.0045
Output: 200 tokens √ó $15 / 1,000,000 = $0.0030
–ò—Ç–æ–≥–æ: $0.0075 (~¬¢0.8)
```

**–†–∞—Å—á–µ—Ç –Ω–∞ –º–µ—Å—è—Ü:**
```
5 —á–µ–∫–æ–≤/–Ω–µ–¥–µ–ª—é √ó 4 = 20 —á–µ–∫–æ–≤/–º–µ—Å—è—Ü
20 √ó $0.0075 = $0.15/–º–µ—Å—è—Ü
```

---

#### 3. **AI —á–∞—Ç (Claude Text)**
- **–ú–æ–¥–µ–ª—å:** Claude 3.5 Sonnet
- **–¶–µ–Ω–∞:** $3 / $15 per 1M tokens

**–¢–∏–ø–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```
–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç: ~500 tokens
–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: ~2000 tokens
–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ~50 tokens
–û—Ç–≤–µ—Ç: ~500 tokens
---
Input: 2550 tokens ‚Üí $0.0077
Output: 500 tokens ‚Üí $0.0075
–ò—Ç–æ–≥–æ: $0.015 –∑–∞ –≤–æ–ø—Ä–æ—Å
```

**–†–∞—Å—á–µ—Ç –Ω–∞ –º–µ—Å—è—Ü:**
```
3 –≤–æ–ø—Ä–æ—Å–∞/–¥–µ–Ω—å √ó 30 = 90 –≤–æ–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü
90 √ó $0.015 = $1.35/–º–µ—Å—è—Ü
```

---

#### 4. **AI –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ–ª–æ—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
- **–ú–æ–¥–µ–ª—å:** Claude 3.5 Sonnet (Haiku fallback)
- **–¶–µ–Ω–∞:** Sonnet - $3/$15, Haiku - $0.80/$4

**1 –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
```
Input: 100 tokens (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è)
Output: 50 tokens (JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
---
Sonnet: $0.003 + $0.001 = $0.002
Haiku: $0.00008 + $0.0002 = $0.0003
```

**–° –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π:**
```
30 –≥–æ–ª–æ—Å–æ–≤—ã—Ö/–¥–µ–Ω—å √ó $0.002 = $0.06/–¥–µ–Ω—å
$0.06 √ó 30 = $1.80/–º–µ—Å—è—Ü (Sonnet)
```

---

### üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨ –ù–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

**–°—Ü–µ–Ω–∞—Ä–∏–π: –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**
```
–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (30/–¥–µ–Ω—å): $1.35/–º–µ—Å—è—Ü
OCR —á–µ–∫–æ–≤ (5/–Ω–µ–¥–µ–ª—é):          $0.15/–º–µ—Å—è—Ü
AI —á–∞—Ç (3 –≤–æ–ø—Ä–æ—Å–∞/–¥–µ–Ω—å):       $1.35/–º–µ—Å—è—Ü
AI –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): $1.80/–º–µ—Å—è—Ü
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–ò–¢–û–ì–û –ë–ï–ó –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:        $2.85/–º–µ—Å—è—Ü
–ò–¢–û–ì–û –° –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π:         $4.65/–º–µ—Å—è—Ü
```

**–°—Ü–µ–Ω–∞—Ä–∏–π: –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**
```
–ì–æ–ª–æ—Å–æ–≤—ã–µ (10/–¥–µ–Ω—å):     $0.45/–º–µ—Å—è—Ü
OCR (2/–Ω–µ–¥–µ–ª—é):          $0.06/–º–µ—Å—è—Ü
AI —á–∞—Ç (1 –≤–æ–ø—Ä–æ—Å/–¥–µ–Ω—å):  $0.45/–º–µ—Å—è—Ü
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–ò–¢–û–ì–û:                   $0.96/–º–µ—Å—è—Ü
```

**–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã:**
- OpenAI: $5 (–Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç) ‚Üí **520 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** –∏–ª–∏ **5 –º–µ—Å—è—Ü–µ–≤ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
- Anthropic: $5 (–Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç) ‚Üí **666 —á–µ–∫–æ–≤** –∏–ª–∏ **110 AI —á–∞—Ç–æ–≤** –∏–ª–∏ **5+ –º–µ—Å—è—Ü–µ–≤**

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–´ –ò –ù–ï–î–û–°–¢–ê–¢–ö–ò

### 1. **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ —Å–ª–∞–±—ã–π** üî¥
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Ñ—Ä–∞–∑—ã
- –¢—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–∏–π —Ñ–æ—Ä–º–∞—Ç: —Å—É–º–º–∞ + –≤–∞–ª—é—Ç–∞ + –æ–ø–∏—Å–∞–Ω–∏–µ
- –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–Ω–µ –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ç—Ä–∞—Ç—ã)

**–ü—Ä–∏–º–µ—Ä—ã –ù–ï–†–ê–ë–û–¢–ê–Æ–©–ò–• —Ñ—Ä–∞–∑:**
```
‚ùå "–∫—É–ø–∏–ª –ø–∏—Ü—Ü—É –∑–∞ –ø–æ–ª—Ç–æ—Ä–∞ —Ä—É–±–ª—è"
‚ùå "–ø–æ—Ç—Ä–∞—Ç–∏–ª —Å–µ–≥–æ–¥–Ω—è —Å—Ç–æ –¥–æ–ª–ª–∞—Ä–æ–≤ –Ω–∞ —Ç–∞–∫—Å–∏"
‚ùå "–∑–∞–ø–ª–∞—Ç–∏–ª 20 –∑–∞ –æ–±–µ–¥" (–Ω–µ—Ç –≤–∞–ª—é—Ç—ã)
‚ùå "50" (—Ç–æ–ª—å–∫–æ —Å—É–º–º–∞)
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å AI-–ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è **–≤—Å–µ—Ö** —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–æ–ª–æ—Å–∞)

---

### 2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–≤—É—Ö –±–æ—Ç–æ–≤** üî¥
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–∞ –ª–æ–∫–∞–ª–∫–µ –∏ –ø—Ä–æ–¥–∞–∫—à–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç **–¥–≤–∞ –±–æ—Ç–∞ —Å –æ–¥–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º**
- Telegram API –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É:
```
409 Conflict: terminated by other getUpdates request
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ @BotFather
2. –õ–æ–∫–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `DISABLE_TELEGRAM_BOT=true`
3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhook –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ (polling –Ω–∞ dev)

**–¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º:** Polling (–∏ dev, –∏ prod)

---

### 3. **BYOK - –±–∞—Ä—å–µ—Ä –≤—Ö–æ–¥–∞** üü°
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω—É–∂–Ω–æ:
  1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ console.anthropic.com
  2. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á
  3. –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–∞–π—Ç–µ
  4. –ü—Ä–∏–≤—è–∑–∞—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É (–ø–æ—Å–ª–µ $5 free credits)

**–≠—Ç–æ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è casual –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
- –°–¥–µ–ª–∞—Ç—å **freemium** –º–æ–¥–µ–ª—å —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –∫–ª—é—á–æ–º:
  - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 10 AI –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü (–Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º –∫–ª—é—á–µ)
  - Pro –ø–æ–¥–ø–∏—Å–∫–∞: –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ (–Ω–∞ —Å–≤–æ–µ–º –∫–ª—é—á–µ –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–º)

---

### 4. **–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞** üü°
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å—Ç—å hourly-budget-notifications.ts, –Ω–æ **–Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å Telegram**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ–±

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ Telegram:
```typescript
await bot.sendMessage(
  chatId,
  `‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω –±—é–¥–∂–µ—Ç "${budgetName}": ${spent}/${limit}`
);
```

---

### 5. **–ù–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** üü°
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ï—Å–ª–∏ –±–æ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª ‚Üí –Ω—É–∂–Ω–æ:
  1. –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-—Å–∞–π—Ç
  2. –ù–∞–π—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
  3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

**–í –±–æ—Ç–µ –Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"**

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å inline-–∫–Ω–æ–ø–∫–∏:
```
[–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å] [–ò–∑–º–µ–Ω–∏—Ç—å —Å—É–º–º—É] [–ò–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é] [–£–¥–∞–ª–∏—Ç—å]
```

---

### 6. **–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ AI —á–∞—Ç–∞** üü°
**–ü—Ä–æ–±–ª–µ–º–∞:**
- AI —á–∞—Ç **–Ω–µ –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç** –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –Ω–æ–≤—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä

**–†–µ—à–µ–Ω–∏–µ:**
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ `ai_chat_messages`
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ Claude –∫–∞–∫ history

**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ)

---

### 7. **–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤** üîµ
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ **–ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö**
- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–µ–º–µ–π–Ω–æ–º —á–∞—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥—Ä—É–ø–ø
- –ö–∞–∂–¥—ã–π —á–ª–µ–Ω –≥—Ä—É–ø–ø—ã = —Å–≤–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ö–æ–º–∞–Ω–¥–∞ `/balance @username` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–∞–ª–∞–Ω—Å–∞ –¥—Ä—É–≥–∏—Ö

---

### 8. **–ù–µ—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π** üîµ
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –∏ —á–∏—Å–ª–∞
- –ù–µ—Ç –≥—Ä–∞—Ñ–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ —á–µ—Ä–µ–∑ Chart.js
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Telegram

---

## ‚ú® –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (—Å–¥–µ–ª–∞—Ç—å —Å—Ä–æ—á–Ω–æ)

#### 1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –¥–≤—É—Ö –±–æ—Ç–æ–≤**
```bash
# .env.local (–Ω–∞ –ª–æ–∫–∞–ª–∫–µ)
DISABLE_TELEGRAM_BOT=true

# –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å dev –±–æ—Ç–∞
TELEGRAM_BOT_TOKEN_DEV=...
```

#### 2. **–î–æ–±–∞–≤–∏—Ç—å AI-–ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –í–°–ï–• —Ç–µ–∫—Å—Ç–æ–≤**
**–°–µ–π—á–∞—Å:** AI —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–æ–ª–æ—Å–∞
**–ù—É–∂–Ω–æ:** AI –¥–ª—è –ª—é–±–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

```typescript
// –ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–µ—Ä –Ω–µ —Å–ø—Ä–∞–≤–∏–ª—Å—è
if (!parseTransactionText(text)) {
  // –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Claude
  const normalized = await normalizeWithAI(text, userSettings);
  if (normalized) {
    createTransaction(normalized);
  }
}
```

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** +$0.002 –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
**–ü–æ–ª—å–∑–∞:** –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—Ä–∞–∑

---

### üöÄ –í–ê–ñ–ù–´–ï (–≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞)

#### 3. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**
```typescript
// –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
await bot.sendMessage(chatId, message, {
  reply_markup: {
    inline_keyboard: [[
      { text: '‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å', callback_data: `edit:${id}` },
      { text: 'üóëÔ∏è –£–¥–∞–ª–∏—Ç—å', callback_data: `delete:${id}` }
    ]]
  }
});
```

#### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å Telegram**
```typescript
// –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞
async function sendBudgetAlert(userId: number, budget: Budget) {
  const user = await getUserById(userId);
  if (user.telegramId) {
    await bot.sendMessage(
      user.telegramId,
      `‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω –±—é–¥–∂–µ—Ç "${budget.name}"`
    );
  }
}
```

#### 5. **Freemium –º–æ–¥–µ–ª—å –≤–º–µ—Å—Ç–æ BYOK**
```typescript
// –°–∏—Å—Ç–µ–º–Ω—ã–π API –∫–ª—é—á –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
const FREE_TIER_LIMIT = 10; // –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü

if (userRequestCount < FREE_TIER_LIMIT) {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–ª—é—á
  apiKey = process.env.SYSTEM_ANTHROPIC_KEY;
} else {
  // –¢—Ä–µ–±–æ–≤–∞—Ç—å —Å–≤–æ–π –∫–ª—é—á –∏–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É
  apiKey = userSettings.anthropicApiKey;
}
```

---

### üí° –ü–û–õ–ï–ó–ù–´–ï (nice to have)

#### 6. **–ò—Å—Ç–æ—Ä–∏—è AI —á–∞—Ç–∞**
```typescript
// –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π
const history = await db
  .select()
  .from(aiChatMessages)
  .where(eq(aiChatMessages.userId, userId))
  .orderBy(desc(aiChatMessages.createdAt))
  .limit(20);

// –ü–µ—Ä–µ–¥–∞—Ç—å –≤ Claude
const response = await chatWithAI({
  messages: [
    ...history.map(m => ({ role: m.role, content: m.content })),
    { role: 'user', content: newMessage }
  ]
});
```

#### 7. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤**
```typescript
// –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø–µ
const userId = await getUserByTelegramId(
  msg.from.id,
  msg.chat.id // –≥—Ä—É–ø–ø–∞
);

// –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–∞–ª–∞–Ω—Å–∞ –¥—Ä—É–≥–∏—Ö
if (msg.text === '/balance @username') {
  const targetUser = await getUserByUsername(username);
  sendBalance(targetUser);
}
```

#### 8. **–ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤**
```typescript
// –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ QuickChart.io
const chartUrl = `https://quickchart.io/chart?c={
  type: 'bar',
  data: {
    labels: ['–ï–¥–∞', '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è'],
    datasets: [{
      data: [${expenses.food}, ${expenses.transport}, ${expenses.fun}]
    }]
  }
}`;

await bot.sendPhoto(chatId, chartUrl);
```

#### 9. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Excel/CSV**
```typescript
// –ö–æ–º–∞–Ω–¥–∞ /export
const csv = generateCSV(transactions);
await bot.sendDocument(chatId, {
  source: Buffer.from(csv),
  filename: 'transactions.csv'
});
```

#### 10. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ—à–µ–ª—å–∫–æ–≤**
```typescript
// –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
await bot.sendMessage(chatId, '–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫:', {
  reply_markup: {
    inline_keyboard: wallets.map(w => [{
      text: w.name,
      callback_data: `wallet:${w.id}`
    }])
  }
});
```

---

## üìà –ú–ï–¢–†–ò–ö–ò –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê

### –ß—Ç–æ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å

#### 1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API**
```typescript
// –°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –Ω–∞ API –∑–∞ –º–µ—Å—è—Ü
await db.insert(apiUsageLog).values({
  userId,
  service: 'anthropic',
  endpoint: 'vision',
  inputTokens: 1500,
  outputTokens: 200,
  cost: 0.0075
});
```

#### 2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞**
- –°–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
- –°–∫–æ–ª—å–∫–æ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ
- –°–∫–æ–ª—å–∫–æ —á–µ–∫–æ–≤ –æ—Ç—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### 3. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è AI
- –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞

---

## üéØ –ò–¢–û–ì–ò –ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### ‚úÖ –ß–¢–û –•–û–†–û–®–û
1. ‚ú® –ß–∏—Å—Ç–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
2. ‚ú® BYOK - –Ω–µ —Ç—Ä–∞—Ç–∏–º –¥–µ–Ω—å–≥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
3. ‚ú® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 10+ –≤–∞–ª—é—Ç
4. ‚ú® OCR —á–µ–∫–æ–≤ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–æ–≤
5. ‚ú® AI —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å–æ–≤–µ—Ç–Ω–∏–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
6. ‚ú® –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### ‚ö†Ô∏è –ß–¢–û –ù–£–ñ–ù–û –ò–°–ü–†–ê–í–ò–¢–¨
1. üî¥ –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–≤—É—Ö –±–æ—Ç–æ–≤ (dev + prod)
2. üî¥ –°–ª–∞–±—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä (—Ç–æ–ª—å–∫–æ regex)
3. üü° BYOK - –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞
4. üü° –ù–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
5. üü° –ù–µ—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### üöÄ –ß–¢–û –î–û–ë–ê–í–ò–¢–¨
1. AI-–ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤
2. Freemium –º–æ–¥–µ–ª—å (10 AI –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –±–æ—Ç–µ
4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –±—é–¥–∂–µ—Ç–∞
5. –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üí∞ –ë–ò–ó–ù–ï–°-–ú–û–î–ï–õ–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: BYOK (—Ç–µ–∫—É—â–∞—è)
**–ü–ª—é—Å—ã:**
- –ù—É–ª–µ–≤—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ API
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –±–µ–∑ –¥–æ–ø. —Ä–∞—Å—Ö–æ–¥–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –¢—Ä–µ–±—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–Ω–∏–π

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Freemium
**–ë–µ—Å–ø–ª–∞—Ç–Ω–æ:**
- 10 AI –∑–∞–ø—Ä–æ—Å–æ–≤/–º–µ—Å—è—Ü (–≥–æ–ª–æ—Å, —á–∞—Ç—ã, OCR)
- –ù–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º API –∫–ª—é—á–µ

**Pro –ø–æ–¥–ø–∏—Å–∫–∞ ($5/–º–µ—Å—è—Ü):**
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ AI –∑–∞–ø—Ä–æ—Å—ã
- Priority support
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–ó–∞—Ç—Ä–∞—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
- 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π √ó 10 –∑–∞–ø—Ä–æ—Å–æ–≤ = 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤
- 10,000 √ó $0.015 = **$150/–º–µ—Å—è—Ü**
- –î–æ—Ö–æ–¥: 100 Pro √ó $5 = **$500/–º–µ—Å—è—Ü**
- **–ü—Ä–∏–±—ã–ª—å: $350/–º–µ—Å—è—Ü**

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: –±–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä (regex, –±–µ–∑ AI)
- $3/–º–µ—Å—è—Ü: AI-–ø–∞—Ä—Å–∏–Ω–≥ + OCR (50 –∑–∞–ø—Ä–æ—Å–æ–≤)
- $10/–º–µ—Å—è—Ü: –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ + BYOK –æ–ø—Ü–∏—è

---

**–°–æ–∑–¥–∞–Ω–æ:** 2 —è–Ω–≤–∞—Ä—è 2025
**–ê–≤—Ç–æ—Ä:** Claude Code (AI –∞–Ω–∞–ª–∏–∑)
